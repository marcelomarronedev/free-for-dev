<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'><text y='25' font-size='25'>üåê</text></svg>">

    <title>FEEDSHOME ‚Äì Your Global Feeds Directory</title>
    <meta name="description" content="FEEDSHOME - Discover, organize, and follow your favorite feeds in one place. FEEDSHOME offers a complete directory of feeds grouped by language, country, and category so you can stay up to date with the news, blogs, and content that interest you the most, without wasting time searching." />
    <meta name="keywords" content="news aggregators,men√©ame,killbait,tardigram,mediatize,reddit" />
    <meta name="author" content="FEEDSHOME" />

    <meta property="og:title" content="FEEDSHOME ‚Äì Your Global Feeds Directory" />
    <meta property="og:description" content="FEEDSHOME - Discover, organize, and follow your favorite feeds in one place. FEEDSHOME offers a complete directory of feeds grouped by language, country, and category so you can stay up to date with the news, blogs, and content that interest you the most, without wasting time searching." />
    <meta property="og:image" content="https://enterum.github.io/aggrhome/img/image.png" />
    <meta property="og:url" content="https://enterum.github.io/aggrhome/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="FEEDSHOME" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="FEEDSHOME ‚Äì Your Global Feeds Directory" />
    <meta name="twitter:description" content="FEEDSHOME - Discover, organize, and follow your favorite feeds in one place. FEEDSHOME offers a complete directory of feeds grouped by language, country, and category so you can stay up to date with the news, blogs, and content that interest you the most, without wasting time searching." />
    <meta name="twitter:image" content="https://enterum.github.io/aggrhome/img/image.png" />
    <meta name="twitter:site" content="@aggrhome" />

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom CSS for the '3 Col Portfolio' Template -->
    <link href="css/3-col-portfolio.css" rel="stylesheet">

    <!-- jQuery (must go before bootstrap.js) -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- Bootstrap JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
       window.PAGE_LANG = "en";
    </script>

  </head>

  <body>

<nav class="navbar navbar-fixed-top navbar-inverse" role="navigation">
  <div class="container">
<div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://enterum.github.io/aggrhome/">FEEDSHOME üåê</a>
        </div>

<div class="collapse navbar-collapse navbar-ex1-collapse">
  <ul class="nav navbar-nav">
    <li><a href="#addfeed">‚ûï Add</a></li>
    <li><a href="#about">About the Project</a></li>
    <li><a href="mailto:enterum0@gmail.com">Contact</a></li>
  </ul>

  <form class="navbar-form navbar-right navbar-filters" role="form">
    <div class="form-group">
      <select id="languageSelect" class="form-control input-sm">
      </select>
    </div>
    <div class="form-group">
      <select id="categorySelect" class="form-control input-sm">
      </select>
    </div>
    <div class="form-group">
      <select id="countrySelect" class="form-control input-sm">
      </select>
    </div>
    <div class="form-group">
      <select id="refreshSelect" class="form-control input-sm">
        <option value="0">Never refresh</option>
        <option value="60000">Refresh every minute</option>
        <option value="300000" selected>Refresh every 5 minutes</option>
        <option value="600000">Refresh every 10 minutes</option>
        <option value="1800000">Refresh every 30 minutes</option>
      </select>
    </div>
  </form>
  
</div><!-- /.navbar-collapse -->

  </div>
</nav>

<div class="container mobile-margin-top">
  <h1 class="page-header">
    FEEDSHOME üåê <small><span id="cattitle"></span></small>
    <p id="catsubtitle" style="font-size: 12px; color: #555; margin-top: 5px; font-style: italic;"></p>
  </h1>

  <div style="display:none" id="feeds-container"></div>
  <div style="display:none" id="history-container"></div>

  <div id="loading-container" style="text-align:center; margin: 20px 0;">
    <img src="img/loading.gif" alt="Loading..." id="loading-spinner" style="width: 50px; height: 50px;">
    <p>Loading feeds...</p>
  </div>

</div>

<a id="addfeed"></a>
<hr>
<h2 style="margin-top:100px;text-align: center;">Submit a New RSS Feed</h2>

<div class="container" style="margin-bottom: 30px;">
  <form id="addFeedForm" action="https://enterum.alwaysdata.net/addfeed.php" method="POST" style="max-width: 500px; margin: auto;">
    <div class="form-group">
      <label for="rssUrl">RSS Feed URL:</label>
      <input type="url" class="form-control" id="rssUrl" name="rssUrl" placeholder="https://example.com/feed" required>
    </div>

    <!-- Hidden fields para idioma, pa√≠s y categor√≠a -->
    <input type="hidden" name="language" id="feedLanguage">
    <input type="hidden" name="country" id="feedCountry">
    <input type="hidden" name="category" id="feedCategory">

    <div class="form-group" style="text-align:center; margin: 20px 0;">
      <!-- Google reCAPTCHA v2 -->
      <div class="g-recaptcha" data-sitekey="6Lfogg0sAAAAAEdEj8BwvttaR5jm1zkI2" data-callback="recaptchaCallback" data-expired-callback="recaptchaExpiredCallback"></div>
    </div>

    <div class="form-group" style="text-align:center;">
      <button type="submit" class="btn btn-primary" id="submitFeedBtn">Add Feed</button>
    </div>
  </form>
</div>

<!-- Google reCAPTCHA -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script src="https://www.google.com/recaptcha/api.js?render=6LdP1BMsAAAAAPuXgNBE_5pJ2WQjc8VafD_A6IMw"></script>

<script>
  // Habilita el bot√≥n cuando el reCAPTCHA est√° validado
  function recaptchaCallback() {
    const btn = document.getElementById('submitFeedBtn');
    if (btn) btn.disabled = false;
  }

  function recaptchaExpiredCallback() {
    const btn = document.getElementById('submitFeedBtn');
    if (btn) btn.disabled = true;
  }

  // Antes de enviar el formulario, rellena los campos ocultos
  const addFeedForm = document.getElementById('addFeedForm');
  addFeedForm.addEventListener('submit', function(e) {
    const langSelect = document.getElementById('languageSelect');
    const countrySelect = document.getElementById('countrySelect');
    const categorySelect = document.getElementById('categorySelect');

    if (langSelect && countrySelect && categorySelect) {
      document.getElementById('feedLanguage').value = langSelect.value;
      document.getElementById('feedCountry').value = countrySelect.value;
      document.getElementById('feedCategory').value = categorySelect.value;
    }
  });
</script>



<a name="about"></a>
<hr>
<h2 style="text-align: center;">About the Project</h2>
<div class="container" id="readme"></div>

<!-- marked.js (CDN) -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

<script>
  async function loadReadme() {
    try {
      const response = await fetch('https://raw.githubusercontent.com/enterum/aggrhome/refs/heads/main/README.md', { cache: "no-store" });
      if (!response.ok) throw new Error('Could not load README');
      const markdown = await response.text();
      
      // Render markdown to HTML
      const html = marked.parse(markdown);
      
      // Insert into div
      document.getElementById('readme').innerHTML = html;
    } catch (error) {
      console.error(error);
      document.getElementById('readme').innerHTML = "<p>Error loading README.md</p>";
    }
  }

  loadReadme();
</script>

<hr>

<div class="container">
  <footer>
    <div class="row">
      <div class="col-lg-12">
        <p>&copy; AGGRHOME <span id="getCurrentDate"></span> 
          - Code and website hosted on - <a target="_blank" href="https://github.com/enterum/aggrhome">Github</a>
          - HTML template by <a target="_blank" href="https://github.com/learning-zone/website-templates/tree/master/3-col-portfolio">3-col-portfolio</a>
          - CORS proxy by <a target="_blank" href="https://corsproxy.io/">corsproxy.io</a> - Comment system by <a target="_blank" href="https://utteranc.es/">utteranc.es</a> 
        </p>
      </div>
    </div>
  </footer>
</div><!-- /.container -->

<!-- JavaScript -->
<script type="module" src="dist/main.js?v=115"></script>
</body>
</html>
